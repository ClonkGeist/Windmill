<!DOCTYPE html>
<html>
	<head>
		<title>Windmill Documentation - Lokalisierung</title>
		<link href="../../../windmillDocs.css" rel="stylesheet">
		<link href="../../../prism.css" rel="stylesheet">
		<meta charset="UTF-8">
		<script>
			//Windmillinterner Workaround: Da Windmill das Oeffnen externer Links sperrt (sodass diese in einem externen Browser geoffnet werden koennen)
			//wird hier fuer Windmill das anders geloest.
			if(navigator.userAgent.search(/\bwindmill\b/) != -1) {
				document.addEventListener("DOMContentLoaded", function() {
					let elements = document.getElementsByTagName("a");
					for(var i = 0; i < elements.length; i++) {
						elements[i].onclick = function(e) {
							window.location.href = this.href;
							e.preventDefault();
						};
					}
				});
			}
			document.addEventListener("DOMContentLoaded", function() {
				let code_elements = document.querySelectorAll("code");
				for(let i = 0; i < code_elements.length; i++) {
					let elm = code_elements[i];
					if(elm.className.search("lang-fnpreview") != -1)
						elm.parentNode.className += "lang-fnpreview";
				}
			});
		</script>
	</head>
	<body>
		<div id="header">
			Windmill Documentation
		</div>
		<div id="wrapper">
			<nav id="navigation">
				<ul>
					<li class="navigation-elm"><a href="../../_home/__head_de.html">Startseite</a></li><ul class="navigation-sublist">
</ul>
<li class="navigation-elm"><a href="../__head_de.html">Funktionalitäten</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../workenvironments/__head_de.html">Arbeitsumgebungen</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../workenvironments/saveWorkEnvironment_de.html">saveWorkEnvironment</a></li>
<li class="navigation-elm"><a href="../workenvironments/loadWorkEnvironment_de.html">loadWorkEnvironment</a></li>
<li class="navigation-elm"><a href="../workenvironments/getWorkEnvironments_de.html">getWorkEnvironments</a></li>
<li class="navigation-elm"><a href="../workenvironments/getWorkEnvironmentByPath_de.html">getWorkEnvironmentByPath</a></li>
<li class="navigation-elm"><a href="../workenvironments/createWorkEnvironment_de.html">createWorkEnvironment</a></li>
<li class="navigation-elm"><a href="../workenvironments/createNewWorkEnvironment_de.html">createNewWorkEnvironment</a></li>
<li class="navigation-elm"><a href="../workenvironments/class_WorkEnvironment_de.html">class WorkEnvironment</a></li>
</ul>
<li class="navigation-elm"><a href="../other/__head_de.html">Weitere Funktionen</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../other/showNotification_de.html">showNotification</a></li>
</ul>
<li class="navigation-elm"><a href="../modules/__head_de.html">Module</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../modules/readModuleInfo_de.html">readModuleInfo</a></li>
<li class="navigation-elm"><a href="../modules/loadModules_de.html">loadModules</a></li>
<li class="navigation-elm"><a href="../modules/getModule_de.html">getModule</a></li>
<li class="navigation-elm"><a href="../modules/getModulesIdByName_de.html">getModulesIdByName</a></li>
<li class="navigation-elm"><a href="../modules/getModulesByName_de.html">getModulesByName</a></li>
<li class="navigation-elm"><a href="../modules/getModuleDef_de.html">getModuleDef</a></li>
<li class="navigation-elm"><a href="../modules/getModuleDefByPrefix_de.html">getModuleDefByPrefix</a></li>
<li class="navigation-elm"><a href="../modules/getModuleByName_de.html">getModuleByName</a></li>
<li class="navigation-elm"><a href="../modules/createModule_de.html">createModule</a></li>
<li class="navigation-elm"><a href="../modules/class__module_de.html">class _module</a></li>
</ul>
<li class="navigation-elm"><a href="__head_de.html">Lokalisierung</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="readLanguageInfo_de.html">readLanguageInfo</a></li>
<li class="navigation-elm"><a href="localizeModule_de.html">localizeModule</a></li>
<li class="navigation-elm"><a href="Locale_de.html">Locale</a></li>
<li class="navigation-elm"><a href="initializeLanguage_de.html">initializeLanguage</a></li>
</ul>
<li class="navigation-elm"><a href="../keybindings/__head_de.html">Key Bindings</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../keybindings/_keybinderGetKeysByIdentifier_de.html">_keybinderGetKeysByIdentifier</a></li>
<li class="navigation-elm"><a href="../keybindings/_keybinderCheckKeyBind_de.html">_keybinderCheckKeyBind</a></li>
<li class="navigation-elm"><a href="../keybindings/saveKeyBindings_de.html">saveKeyBindings</a></li>
<li class="navigation-elm"><a href="../keybindings/loadKeyBindings_de.html">loadKeyBindings</a></li>
<li class="navigation-elm"><a href="../keybindings/getKeyCodeIdentifier_de.html">getKeyCodeIdentifier</a></li>
<li class="navigation-elm"><a href="../keybindings/getKeyBindingObjById_de.html">getKeyBindingObjById</a></li>
<li class="navigation-elm"><a href="../keybindings/class__KeyBinding_de.html">class _KeyBinding</a></li>
<li class="navigation-elm"><a href="../keybindings/bindKeyToObj_de.html">bindKeyToObj</a></li>
</ul>
<li class="navigation-elm"><a href="../dialogs/__head_de.html">Dialoge</a></li><ul class="navigation-sublist">
</ul>
<li class="navigation-elm"><a href="../config/__head_de.html">config.js</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../config/setConfigData_de.html">setConfigData</a></li>
<li class="navigation-elm"><a href="../config/setClonkPath_de.html">setClonkPath</a></li>
<li class="navigation-elm"><a href="../config/sc.clonkpath_de.html">_sc.clonkpath</a></li>
<li class="navigation-elm"><a href="../config/saveConfig_de.html">saveConfig</a></li>
<li class="navigation-elm"><a href="../config/loadConfig_de.html">loadConfig</a></li>
<li class="navigation-elm"><a href="../config/getConfig_de.html">getConfig</a></li>
<li class="navigation-elm"><a href="../config/getConfigData_de.html">getConfigData</a></li>
<li class="navigation-elm"><a href="../config/class_ConfigEntry_de.html">class ConfigEntry</a></li>
<li class="navigation-elm"><a href="../config/addConfigString_de.html">addConfigString</a></li>
</ul>
</ul>
<li class="navigation-elm"><a href="../../externalapplications/__head_de.html">Externe Anwendungen</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../externalapplications/class_ExtApplication_de.html">class ExtApplication</a></li>
</ul>
<li class="navigation-elm"><a href="../../ctypes/__head_de.html">CTypes / Windmill Interface</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../ctypes/wmIProcess_de.html">wmIProcess</a></li>
<li class="navigation-elm"><a href="../../ctypes/WindmillInterface_de.html">Windmill Interface</a></li>
</ul>

				</ul>
			</nav>
			<div id="content">
				<h1 id="lokalisierung">Lokalisierung</h1>
<p>Windmill bietet zur Unterstützung mehrerer Sprachen die Möglichkeit, Module zu lokalisieren. Dies passiert in den meisten Fällen automatisch, d.h. dass sämtliche Windmilleigene GUI-Inhalte wie Notifications, Dialoge und so weiter Lokalisierungen von selbst aus anwenden. Auch beim Laden des Moduls werden alle Textnodes sowie Attribute von Elementen nach Strings die lokalisiert werden sollen durchsucht die anschließend übersetzt werden.</p>
<p>Um erkennbar zu machen, dass ein bestimmter String aus den Sprachdateien geladen werden soll, muss der zugehörige Identifizierungsname von Dollarzeichen ($) umschlossen werden und es muss ein gültiger Eintrag in der Sprachdatei hinterlegt sein. Der Identifizierungsname muss dabei, wenn er von den Dollarzeichen umschlossen ist, ohne dem Modulpräfix angegeben werden. (Z.B. <code>STG_General=General</code> in der Sprachdatei, allerdings <code>$General$</code> im Quellcode)</p>
<h2 id="language-ini">language.ini</h2>
<p>Die Sprachdateien werden bei Start von Windmill aus dem <code>locale</code>-Unterordner (<code>chrome://windmill/content/locale/</code>) geladen und eingelesen. </p>
<p>Sie besitzen eine <code>Head</code>-Sektion in der grundlegende Informationen zur Sprachdatei enthalten sind und eine <code>Language</code>-Sektion, in der die einzelnen Übersetungen vorhanden sind.</p>
<h3 id="head-sektion">Head-Sektion</h3>
<p>Folgende Werte können in der Head-Sektion stehen bzw. werden erwartet:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Beschreibung</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td>Name der Sprache in der jeweiligen Sprache.</td>
</tr>
<tr>
<td>Lang</td>
<td>Kürzel der Sprache. (Wird in der Sprachauswahl daneben angezeigt. Wird ggf. in Zukunft entfernt, da die Ordnerbezeichnung dies auch übernehmen kann.)</td>
</tr>
<tr>
<td>Version</td>
<td>Version der Sprachdatei. (Aktuell ohne Effekt.)</td>
</tr>
<tr>
<td>FallbackLang</td>
<td>Language Code der Sprache die genutzt werden soll, falls bestimmte Strings nicht vorhanden sind.</td>
</tr>
</tbody>
</table>
<h3 id="language-sektion">Language-Sektion</h3>
<p>In der Language-Sektion befinden sich die einzelnen Strings zur Lokalisierung aufgelistet. Diese haben dabei das Format <code>LPX_Identifier=Translation</code>, wobei <strong>LPX</strong> für den Lokalisierungspräfix des jeweiligen Moduls steht. Da das Hauptfenster über keinen Lokalisierungspräfix verfügt, sind Lokalisierungen für das Hauptfenster nur durch einem voranstehenden Unterstrich gekennzeichnet. (Z.B. <code>_AddPlayer=Add player</code>)</p>
<p>Erwähnenswert ist hier auch der Eintrag <code>_ClonkLangPrefix</code>, der das zweistellige Kürzel für von Clonk unterstützte Sprachdateien angibt, die jeweils geladen werden sollen. (D.h. <code>US</code> für englischsprachige Clonkinhalte, <code>DE</code> für deutschsprachige Clonkinhalte etc.) Falls die jeweilige Sprachdatei nicht gefunden wird, werden automatisch nochmal nach den englischsprachigen Inhalten durchsucht.</p>

			</div>
		</div>
	</body>
</html>