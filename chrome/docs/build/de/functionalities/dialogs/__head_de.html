<!DOCTYPE html>
<html>
	<head>
		<title>Windmill Documentation - Dialoge</title>
		<link href="../../../windmillDocs.css" rel="stylesheet">
		<link href="../../../prism.css" rel="stylesheet">
		<meta charset="UTF-8">
		<script>
			//Windmillinterner Workaround: Da Windmill das Oeffnen externer Links sperrt (sodass diese in einem externen Browser geoffnet werden koennen)
			//wird hier fuer Windmill das anders geloest.
			if(navigator.userAgent.search(/\bwindmill\b/) != -1) {
				document.addEventListener("DOMContentLoaded", function() {
					let elements = document.getElementsByTagName("a");
					for(var i = 0; i < elements.length; i++) {
						elements[i].onclick = function(e) {
							window.location.href = this.href;
							e.preventDefault();
						};
					}
				});
			}
			document.addEventListener("DOMContentLoaded", function() {
				let code_elements = document.querySelectorAll("code");
				for(let i = 0; i < code_elements.length; i++) {
					let elm = code_elements[i];
					if(elm.className.search("lang-fnpreview") != -1)
						elm.parentNode.className += "lang-fnpreview";
				}
			});
		</script>
	</head>
	<body>
		<div id="header">
			Windmill Documentation
		</div>
		<div id="wrapper">
			<nav id="navigation">
				<ul>
					<li class="navigation-elm"><a href="../../_home/__head_de.html">Startseite</a></li><ul class="navigation-sublist">
</ul>
<li class="navigation-elm"><a href="../../shortcuts/__head_de.html">Shortcuts (_sc)</a></li><ul class="navigation-sublist">
</ul>
<li class="navigation-elm"><a href="../../libraries/__head_de.html">Libraries</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../libraries/tree/__head_de.html"> Tree</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../libraries/tree/treeExpand_de.html">treeExpand</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/treeCollapse_de.html">treeCollapse</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/toggleOpenState_de.html">toggleOpenState</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/sortTreeContainerElements_de.html">sortTreeContainerElements</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/setupTreeObj_de.html">setupTreeObj</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/setupMaintree_de.html">setupMaintree</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/selectTreeItem_de.html">selectTreeItem</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/selectTreeEntryCrs_de.html">selectTreeEntryCrs</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/searchTreeEntry_de.html">searchTreeEntry</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/renameTreeObj_de.html">renameTreeObj</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/removeTreeEntry_de.html">removeTreeEntry</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/pasteFile_de.html">pasteFile</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/handleTreeEntry_de.html">handleTreeEntry</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/getTreeObjPath_de.html">getTreeObjPath</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/getTreeObjId_de.html">getTreeObjId</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/getTreeObjFullPath_de.html">getTreeObjFullPath</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/getTreeObjById_de.html">getTreeObjById</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/getTreeItemFilename_de.html">getTreeItemFilename</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/getTreeEntryIndex_de.html">getTreeEntryIndex</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/getTreeEntryByIndex_de.html">getTreeEntryByIndex</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/getTreeCntById_de.html">getTreeCntById</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/getLastSelectedTreeItem_de.html">getLastSelectedTreeItem</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/getCurrentTreeSelection_de.html">getCurrentTreeSelection</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/createTreeElement_de.html">createTreeElement</a></li>
<li class="navigation-elm"><a href="../../libraries/tree/copyTreeEntry_de.html">copyTreeEntry</a></li>
</ul>
<li class="navigation-elm"><a href="../../libraries/explorer/__head_de.html"> Explorer</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../libraries/explorer/searchFile_de.html">searchFile</a></li>
<li class="navigation-elm"><a href="../../libraries/explorer/PrepareDirectory_de.html">PrepareDirectory</a></li>
<li class="navigation-elm"><a href="../../libraries/explorer/PrepareDirectory2_de.html">PrepareDirectory2</a></li>
<li class="navigation-elm"><a href="../../libraries/explorer/navigateToPath_de.html">navigateToPath</a></li>
<li class="navigation-elm"><a href="../../libraries/explorer/loadDirectory_de.html">loadDirectory</a></li>
<li class="navigation-elm"><a href="../../libraries/explorer/getFileExtensionPriority_de.html">getFileExtensionPriority</a></li>
<li class="navigation-elm"><a href="../../libraries/explorer/fileSorting_de.html">fileSorting</a></li>
<li class="navigation-elm"><a href="../../libraries/explorer/FilenameBlacklist_de.html">FilenameBlacklist</a></li>
<li class="navigation-elm"><a href="../../libraries/explorer/createEmptyTemplate_de.html">createEmptyTemplate</a></li>
<li class="navigation-elm"><a href="../../libraries/explorer/addFileTreeEntry_de.html">addFileTreeEntry</a></li>
</ul>
<li class="navigation-elm"><a href="../../libraries/deck/__head_de.html"> Decks</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../libraries/deck/togglePage_de.html">togglePage</a></li>
<li class="navigation-elm"><a href="../../libraries/deck/getChildPosition_de.html">getChildPosition</a></li>
<li class="navigation-elm"><a href="../../libraries/deck/closePage_de.html">closePage</a></li>
<li class="navigation-elm"><a href="../../libraries/deck/class_Deck_de.html">class Deck</a></li>
<li class="navigation-elm"><a href="../../libraries/deck/addDeck_de.html">addDeck</a></li>
</ul>
<li class="navigation-elm"><a href="../../libraries/contextmenu/__head_de.html"> Kontextmenüs</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../libraries/contextmenu/class__ContextMenu_de.html">class _ContextMenu</a></li>
<li class="navigation-elm"><a href="../../libraries/contextmenu/class__ContextMenuEntry_de.html">class _ContextMenuEntry</a></li>
</ul>
<li class="navigation-elm"><a href="../../libraries/colorpicker/__head_de.html"> Color Picker</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../libraries/colorpicker/createColorPicker_de.html"> createColorPicker</a></li>
<li class="navigation-elm"><a href="../../libraries/colorpicker/class_ColorPicker_de.html"> class ColorPicker</a></li>
</ul>
<li class="navigation-elm"><a href="../../libraries/c4group/__head_de.html">C4Group</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../libraries/c4group/readC4GroupFile_de.html"> readC4GroupFile</a></li>
<li class="navigation-elm"><a href="../../libraries/c4group/readC4GroupBytes_de.html"> readC4GroupBytes</a></li>
<li class="navigation-elm"><a href="../../libraries/c4group/getGroupHeader_de.html"> getGroupHeader</a></li>
<li class="navigation-elm"><a href="../../libraries/c4group/getGroupContent_de.html"> getGroupContent</a></li>
<li class="navigation-elm"><a href="../../libraries/c4group/C4GroupHead_de.html"> C4GroupHead</a></li>
<li class="navigation-elm"><a href="../../libraries/c4group/C4GroupFile_de.html"> C4GroupFile</a></li>
<li class="navigation-elm"><a href="../../libraries/c4group/C4GroupEntryCore_de.html"> C4GroupEntryCore</a></li>
</ul>
</ul>
<li class="navigation-elm"><a href="../__head_de.html">Funktionalitäten</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../workenvironments/__head_de.html">Arbeitsumgebungen</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../workenvironments/saveWorkEnvironment_de.html">saveWorkEnvironment</a></li>
<li class="navigation-elm"><a href="../workenvironments/loadWorkEnvironment_de.html">loadWorkEnvironment</a></li>
<li class="navigation-elm"><a href="../workenvironments/getWorkEnvironments_de.html">getWorkEnvironments</a></li>
<li class="navigation-elm"><a href="../workenvironments/getWorkEnvironmentByPath_de.html">getWorkEnvironmentByPath</a></li>
<li class="navigation-elm"><a href="../workenvironments/createWorkEnvironment_de.html">createWorkEnvironment</a></li>
<li class="navigation-elm"><a href="../workenvironments/createNewWorkEnvironment_de.html">createNewWorkEnvironment</a></li>
<li class="navigation-elm"><a href="../workenvironments/class_WorkEnvironment_de.html">class WorkEnvironment</a></li>
</ul>
<li class="navigation-elm"><a href="../other/__head_de.html">Weitere Funktionen</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../other/showNotification_de.html">showNotification</a></li>
</ul>
<li class="navigation-elm"><a href="../modules/__head_de.html">Module</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../modules/readModuleInfo_de.html">readModuleInfo</a></li>
<li class="navigation-elm"><a href="../modules/loadModules_de.html">loadModules</a></li>
<li class="navigation-elm"><a href="../modules/getModule_de.html">getModule</a></li>
<li class="navigation-elm"><a href="../modules/getModulesIdByName_de.html">getModulesIdByName</a></li>
<li class="navigation-elm"><a href="../modules/getModulesByName_de.html">getModulesByName</a></li>
<li class="navigation-elm"><a href="../modules/getModuleDef_de.html">getModuleDef</a></li>
<li class="navigation-elm"><a href="../modules/getModuleDefByPrefix_de.html">getModuleDefByPrefix</a></li>
<li class="navigation-elm"><a href="../modules/getModuleByName_de.html">getModuleByName</a></li>
<li class="navigation-elm"><a href="../modules/createModule_de.html">createModule</a></li>
<li class="navigation-elm"><a href="../modules/class__module_de.html">class _module</a></li>
</ul>
<li class="navigation-elm"><a href="../localization/__head_de.html">Lokalisierung</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../localization/readLanguageInfo_de.html">readLanguageInfo</a></li>
<li class="navigation-elm"><a href="../localization/localizeModule_de.html">localizeModule</a></li>
<li class="navigation-elm"><a href="../localization/Locale_de.html">Locale</a></li>
<li class="navigation-elm"><a href="../localization/initializeLanguage_de.html">initializeLanguage</a></li>
</ul>
<li class="navigation-elm"><a href="../keybindings/__head_de.html">Key Bindings</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../keybindings/_keybinderGetKeysByIdentifier_de.html">_keybinderGetKeysByIdentifier</a></li>
<li class="navigation-elm"><a href="../keybindings/_keybinderCheckKeyBind_de.html">_keybinderCheckKeyBind</a></li>
<li class="navigation-elm"><a href="../keybindings/saveKeyBindings_de.html">saveKeyBindings</a></li>
<li class="navigation-elm"><a href="../keybindings/loadKeyBindings_de.html">loadKeyBindings</a></li>
<li class="navigation-elm"><a href="../keybindings/getKeyCodeIdentifier_de.html">getKeyCodeIdentifier</a></li>
<li class="navigation-elm"><a href="../keybindings/getKeyBindingObjById_de.html">getKeyBindingObjById</a></li>
<li class="navigation-elm"><a href="../keybindings/class__KeyBinding_de.html">class _KeyBinding</a></li>
<li class="navigation-elm"><a href="../keybindings/bindKeyToObj_de.html">bindKeyToObj</a></li>
</ul>
<li class="navigation-elm"><a href="__head_de.html">Dialoge</a></li><ul class="navigation-sublist">
</ul>
<li class="navigation-elm"><a href="../config/__head_de.html">config.js</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../config/setConfigData_de.html">setConfigData</a></li>
<li class="navigation-elm"><a href="../config/setClonkPath_de.html">setClonkPath</a></li>
<li class="navigation-elm"><a href="../config/sc.clonkpath_de.html">_sc.clonkpath</a></li>
<li class="navigation-elm"><a href="../config/saveConfig_de.html">saveConfig</a></li>
<li class="navigation-elm"><a href="../config/loadConfig_de.html">loadConfig</a></li>
<li class="navigation-elm"><a href="../config/getConfig_de.html">getConfig</a></li>
<li class="navigation-elm"><a href="../config/getConfigData_de.html">getConfigData</a></li>
<li class="navigation-elm"><a href="../config/class_ConfigEntry_de.html">class ConfigEntry</a></li>
<li class="navigation-elm"><a href="../config/addConfigString_de.html">addConfigString</a></li>
</ul>
</ul>
<li class="navigation-elm"><a href="../../externalapplications/__head_de.html">Externe Anwendungen</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../externalapplications/class_ExtApplication_de.html">class ExtApplication</a></li>
</ul>
<li class="navigation-elm"><a href="../../default_module/__head_de.html">Standardfunktionalitäten</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../default_module/ui-handling/__head_de.html">UI Feedback</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../default_module/ui-handling/unlockModule_de.html">unlockModule</a></li>
<li class="navigation-elm"><a href="../../default_module/ui-handling/tooltip_de.html">tooltip</a></li>
<li class="navigation-elm"><a href="../../default_module/ui-handling/setWindowTitle_de.html">setWindowTitle</a></li>
<li class="navigation-elm"><a href="../../default_module/ui-handling/lockModule_de.html">lockModule</a></li>
<li class="navigation-elm"><a href="../../default_module/ui-handling/EventInfo_de.html">EventInfo</a></li>
<li class="navigation-elm"><a href="../../default_module/ui-handling/clearTooltip_de.html">clearTooltip</a></li>
</ul>
<li class="navigation-elm"><a href="../../default_module/parser/__head_de.html">Parser</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../default_module/parser/parseINIValue_de.html">parseINIValue</a></li>
<li class="navigation-elm"><a href="../../default_module/parser/parseINIArray_de.html">parseINIArray</a></li>
<li class="navigation-elm"><a href="../../default_module/parser/parseINI2_de.html">parseINI2</a></li>
<li class="navigation-elm"><a href="../../default_module/parser/parseHTML_de.html">parseHTML</a></li>
<li class="navigation-elm"><a href="../../default_module/parser/parseHierarchicalINI_de.html">parseHierarchicalINI</a></li>
<li class="navigation-elm"><a href="../../default_module/parser/parseCssStyle_de.html">parseCssStyle</a></li>
<li class="navigation-elm"><a href="../../default_module/parser/class_INISection_de.html">class INISection</a></li>
</ul>
<li class="navigation-elm"><a href="../../default_module/other/__head_de.html">Sonstiges</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../default_module/other/Number.prototype.num2byte_de.html">Number.prototype.num2byte</a></li>
<li class="navigation-elm"><a href="../../default_module/other/iTr_de.html">iTr</a></li>
<li class="navigation-elm"><a href="../../default_module/other/gTr_de.html">gTr</a></li>
<li class="navigation-elm"><a href="../../default_module/other/Array.prototype.byte2str_de.html">Array.prototype.byte2str</a></li>
<li class="navigation-elm"><a href="../../default_module/other/Array.prototype.byte2num_de.html">Array.prototype.byte2num</a></li>
</ul>
<li class="navigation-elm"><a href="../../default_module/filehandling/__head_de.html">Filehandling</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../default_module/filehandling/writeFile_de.html">writeFile</a></li>
<li class="navigation-elm"><a href="../../default_module/filehandling/UniqueFilename_de.html">UniqueFilename</a></li>
<li class="navigation-elm"><a href="../../default_module/filehandling/readFile_de.html">readFile</a></li>
<li class="navigation-elm"><a href="../../default_module/filehandling/OSFileRecursive_de.html">OSFileRecursive</a></li>
<li class="navigation-elm"><a href="../../default_module/filehandling/openInFilemanager_de.html">openInFilemanager</a></li>
<li class="navigation-elm"><a href="../../default_module/filehandling/getClonkExecutablePath_de.html">getClonkExecutablePath</a></li>
<li class="navigation-elm"><a href="../../default_module/filehandling/getC4GroupPath_de.html">getC4GroupPath</a></li>
</ul>
<li class="navigation-elm"><a href="../../default_module/debug/__head_de.html">Debug</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../default_module/debug/showObj3_de.html">showObj3</a></li>
<li class="navigation-elm"><a href="../../default_module/debug/showObj2_de.html">showObj2</a></li>
<li class="navigation-elm"><a href="../../default_module/debug/displayDOM_de.html">displayDOM</a></li>
</ul>
</ul>
<li class="navigation-elm"><a href="../../ctypes/__head_de.html">CTypes / Windmill Interface</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../ctypes/wmProcess_de.html">wmProcess</a></li>
<li class="navigation-elm"><a href="../../ctypes/WindmillInterface_de.html">Windmill Interface</a></li>
</ul>
<li class="navigation-elm"><a href="../../CIDE/__head_de.html">CIDE</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../CIDE/saveTab_de.html">saveTab</a></li>
<li class="navigation-elm"><a href="../../CIDE/saveFileByPath_de.html">saveFileByPath</a></li>
<li class="navigation-elm"><a href="../../CIDE/OpenTabInProgram_de.html">OpenTabInProgram</a></li>
<li class="navigation-elm"><a href="../../CIDE/onFileUnchanged_de.html">onFileUnchanged</a></li>
<li class="navigation-elm"><a href="../../CIDE/onFileChanged_de.html">onFileChanged</a></li>
<li class="navigation-elm"><a href="../../CIDE/hasOpenedSessions_de.html">hasOpenedSessions</a></li>
<li class="navigation-elm"><a href="../../CIDE/getUnsavedFiles_de.html">getUnsavedFiles</a></li>
<li class="navigation-elm"><a href="../../CIDE/getExtProgId_de.html">getExtProgId</a></li>
<li class="navigation-elm"><a href="../../CIDE/fileLoaded_de.html">fileLoaded</a></li>
<li class="navigation-elm"><a href="../../CIDE/checkSavingPermissions_de.html">checkSavingPermissions</a></li>
</ul>

				</ul>
			</nav>
			<div id="content">
				<h1 id="dialoge">Dialoge</h1>
<p>Dialoge können von jedem Modul einfach mittels <code>WDialog</code> erstellt werden. Das Anzeigen der Dialoge passiert dabei im Mainwindow weshalb die Inhalte, auch aus HTML5-basierten Modulen heraus, XUL-Elemente sein sollten bzw. den HTML-Namespace mitbringen sollten.</p>
<h2 id="erstellen-eines-dialogs">Erstellen eines Dialogs</h2>
<p>Dialoge lassen sich einfach über das <code>WDialog</code>-Objekt erstellen. Dabei können auch Angaben zur Erscheinung des Dialogs wie bspw. die Breite und auch zu den Buttons und dem Verhalten nach Klick auf einen Button mitgeliefert werden. Hier ein Testdialog das nach Klick auf den &quot;OK&quot;-Button &quot;Testlog&quot; logt:</p>
<pre><code class="lang-javascript"><span class="token keyword" >let</span> dlg <span class="token operator" >=</span> <span class="token keyword" >new</span> <span class="token class-name" >WDialog</span><span class="token punctuation" >(</span><span class="token string" >"TestDialog"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> css<span class="token punctuation" >:</span> <span class="token punctuation" >{</span> <span class="token string" >"width"</span><span class="token punctuation" >:</span> <span class="token string" >"450px"</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span> btnright<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token punctuation" >{</span> preset<span class="token punctuation" >:</span> <span class="token string" >"accept"</span><span class="token punctuation" >,</span>
    onclick<span class="token punctuation" >:</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>e<span class="token punctuation" >,</span> btn<span class="token punctuation" >,</span> dialog<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
        <span class="token function" >log</span><span class="token punctuation" >(</span><span class="token string" >"Testlog"</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token string" >"cancel"</span><span class="token punctuation" >]</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Der Inhalt des Dialogs muss über die <code>setContent</code> Funktion aufgerufen werden und um das Dialog letztendlich auch anzuzeigen muss <code>show</code> aufgerufen werden. Das heißt also auch, dass das Dialog nur einmalig definiert werden müsste und wiederverwendet werden kann.</p>
<p>Für die Buttons der Dialoge kann in den meisten Fällen auf die Presets zurückgegriffen werden, die standardmäßiges Verhalten wie das Schließen des Dialogs und die Labels der Dialoge mitliefert. Die Labels können nachträglich noch angepasst werden. Um die Standardreaktion der Presets auf das Klickevent zu verhindern, kann <code>e.stopImmediatePropagation()</code> genutzt werden.</p>
<p>Um auf die Elemente des Dialog-Wrappers zugreifen zu können, kann auf die Eigenschaft <code>element</code> des Dialog-Objekts zugegriffen werden, welches das aktuelle Dialog-Element (falls angezeigt) zurückgibt. So lassen sich weitere Funktionalitäten hinzufügen.</p>
<h3 id="wdialog-konstruktor">WDialog-Konstruktor</h3>
<p>Hier ein näherer Einblick auf den WDialog-Konstruktor:</p>
<pre><code class="lang-fnpreview"><span class="token keyword" >constructor</span><span class="token fnname" > WDialog</span><span class="token punctuation" >(</span><span class="token datatype" >string</span> title<span class="token punctuation" >,</span> <span class="token optional" >[opt]</span> <span class="token datatype" >string</span> langpre<span class="token punctuation" >,</span> <span class="token optional" >[opt]</span> <span class="token datatype" >object</span> options<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Während die ersten beiden Parameter relativ offensichtlich sein sollten (für <code>langpre</code> gilt wie immer: Falls 0 wird die Moduleigene Lokalisierung geladen, bei -1 die aus dem Mainwindow und ansonsten mit dem angegebenen Präfix), befindet sich in <code>options</code> das eigentlich Interessante.</p>
<p><code>options</code> kann folgende Werte haben:</p>
<ul>
<li><strong>modal:</strong><br>Zeigt das Dialog mit Modal an. Standardwert: <code>true</code>.</li>
<li><strong>cancelOnModal:</strong><br>Schließt das Dialog nach Klick auf dem Modal.</li>
<li><strong>css:</strong><br>Gibt weitere Einstellungen für die Anzeige des Dialogs an. Hier werden oft feste Angaben zur Breite des Dialogs festgelegt, es können allerdings auch andere Eigenschaften festgelegt werden. Die CSS-Einstellungen werden dabei an das <code>.main-wdialog-wrapper</code>-Element des Dialogs angewandt. Standardwert: <code>{ width: &quot;450px&quot;; }</code></li>
<li><strong>noEscape:</strong><br>Falls <code>true</code>, so kann das Dialog nicht per Druck auf die [Esc]-Taste geschlossen werden.</li>
<li><strong>simple:</strong><br>Blendet footer- und content-Wrapper des Dialogs aus und zeigt nur noch den Header an. Das Dialog besteht also nur aus einem Kasten dessen Text zentriert wird. Ein Beispiel für ein solches Dialog ist das Tasten-Zuweisungsdialog der KeyBindings in den Einstellungen.</li>
<li><strong>content:</strong><br>Inhalt des Dialogs. Lässt sich auch über <code>setContent</code> setzen.</li>
<li><strong>footer:</strong><br>Inhalt des Footers des Dialogs. Falls gesetzt, so werden keine Buttons erstellt.</li>
<li><strong>onshow:</strong><br>Funktion die ausgeführt wird, wenn das Dialog angezeigt wird. Hier sollte allerdings besser der <code>show</code>-Hook verwendet werden.</li>
<li><strong>btnleft / btnright:</strong><br>Array für die einzelnen Buttons der jeweiligen Seite. Die einzelnen Felder können entweder eigene Button-Objekte enthalten oder einfach nur den Namen eines der Presets weitergeben.</li>
</ul>
<p>Die Button-Objekte können folgende Werte annehmen:</p>
<ul>
<li><strong>label:</strong><br>Gibt den Buttonlabel an.</li>
<li><strong>langpre:</strong><br>Gibt den Lokalisierungspräfix an. Falls nicht angegeben, wird der Lokalisierungspräfix des Dialogs verwendet.</li>
<li><strong>onclick:</strong><br>Gibt die Funktion an, die ausgeführt werden soll wenn auf den Button geklickt wird. Es wird das Eventobjekt, der Button selbst und das Dialogobjekt übergeben. Falls es sich bei der Funktion um einen Generator handelt, so wird ein Task erstellt an welches die Generatorfunktion mittels <code>yield*</code> weitergegeben wird. Während des ganzen Prozesses wird das Dialog gesperrt, sodass keine weitere Benutzerinteraktion möglich ist.</li>
<li><strong>preset:</strong><br>Lädt für die o.g. Eigenschaften Standardwerte des jeweiligen Presets. Aktuell unterstützte Presets sind <code>accept</code> und <code>cancel</code>. Die Click-Handler der Presets werden dabei seperat geladen, d.h. werden durch das Setzen von <code>onclick</code> nicht überschrieben. Um die Ausführung dieser zu vermeiden, muss im Eventobjekt <code>stopImmediatePropagation</code> aufgerufen werden, da diese Clickhandler erst später ausgeführt werden. Im Falle einer Generatorfunktion muss ein Error geworfen werden um die weitere Ausführung des Tasks zu verhindern. Hier muss ggf. das Dialog wieder mittels <code>dlg.unlock()</code> freigeschalten werden.</li>
</ul>
<h2 id="dialog-gui-elemente">Dialog GUI-Elemente</h2>
<p>Dialoge verfügen über einige weitere standardmäßige GUI-Elemente die genutzt werden können. Falls der Inhalt verändert wird, ist es jedoch ggf. von Nöten, die Darstellung und Funktionalität der GUI-Elemente mittels <code>updatePseudoElements()</code> im Dialogobjekt zu aktualisieren.</p>
<h3 id="checklistboxen">Checklistboxen</h3>
<p>Bei Checklistboxen handelt es sich um scrollbare Listen bei denen sich die einzelnen Elemente an- bzw. abwählen lassen, ergo die Funktionalität von Checkboxen und Listboxen vereinen.</p>
<p>Um eine solche Checklistbox zu verwenden, muss einfach ein vbox-Element mit der <code>dlg-checklistbox</code>-Klasse erstellt werden. Um ein Listitem zu erstellen, muss ein hbox-Element mit der <code>dlg-checklistitem</code>-Klasse erstellt werden.</p>
<p>Werden Checklistitems ausgewählt, so wird eine <code>selected</code>-Klasse hinzugefügt. Die Checklistitems lassen sich über die Klasse <code>disabled</code> deaktivieren und über die Klasse <code>hidden</code> unsichtbar schalten.</p>
<pre><code class="lang-javascript"><span class="token keyword" >let</span> dlg <span class="token operator" >=</span> <span class="token keyword" >new</span> <span class="token class-name" >WDialog</span><span class="token punctuation" >(</span><span class="token string" >"Checklistboxen"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> css<span class="token punctuation" >:</span> <span class="token punctuation" >{</span> <span class="token string" >"width"</span><span class="token punctuation" >:</span> <span class="token string" >"450px"</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span> btnright<span class="token punctuation" >:</span> <span class="token punctuation" >[</span><span class="token string" >"accept"</span><span class="token punctuation" >,</span> <span class="token string" >"cancel"</span><span class="token punctuation" >]</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
dlg<span class="token punctuation" >.</span><span class="token function" >setContent</span><span class="token punctuation" >(</span>`<span class="token operator" >&lt;</span>vbox <span class="token keyword" >class</span><span class="token operator" >=</span><span class="token string" >"dlg-checklistbox"</span><span class="token operator" >></span>
                    <span class="token operator" >&lt;</span>hbox <span class="token keyword" >class</span><span class="token operator" >=</span><span class="token string" >"dlg-checklistitem"</span><span class="token operator" >></span>Checklistitem<span class="token operator" >&lt;</span><span class="token operator" >/</span>hbox<span class="token operator" >></span>
                    <span class="token operator" >&lt;</span>hbox <span class="token keyword" >class</span><span class="token operator" >=</span><span class="token string" >"dlg-checklistitem disabled"</span><span class="token operator" >></span>Deaktiviertes Checklistitem<span class="token operator" >&lt;</span><span class="token operator" >/</span>hbox<span class="token operator" >></span>
                    <span class="token operator" >&lt;</span>hbox <span class="token keyword" >class</span><span class="token operator" >=</span><span class="token string" >"dlg-checklistitem hidden"</span><span class="token operator" >></span>Verstecktes Checklistitem<span class="token operator" >&lt;</span><span class="token operator" >/</span>hbox<span class="token operator" >></span>
                <span class="token operator" >&lt;</span><span class="token operator" >/</span>vbox<span class="token operator" >></span>`<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
dlg<span class="token punctuation" >.</span><span class="token function" >show</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<h3 id="listboxen">Listboxen</h3>
<p>Listboxen zeigen einfach nur einzelne Listenelemente an. Der Vorteil gegenüber den Standard-XUL-Listboxen liegt darin, dass es sich um einfache Container handelt und daher keine Einschränkungen für den Inhalt und der Strukturierung des Inhalts vorliegt.</p>
<p>Ein Listbox-Container kann mittels eines vbox-Elements mit der Klasse <code>dlg-listbox</code> erstellt werden und mit hbox-Elementen mit der Klasse <code>dlg-list-item</code> gefüllt werden.</p>
<p>Das Container-Element kann, falls gewünscht, das Attribut <code>data-noselect</code> auf <code>true</code> setzen, um das Auswählen von Elementen zu deaktivieren. Alternativ kann über das Attribut <code>data-multiselect</code> die Auswahl mehrerer Elemente aktiviert werden.</p>
<p>Auch für Listboxen gilt: Elemente haben eine <code>selected</code>-Klasse wenn ausgewählt und lassen sich über <code>disabled</code> deaktivieren bzw. über <code>hidden</code> unsichtbar schalten.</p>
<h3 id="infobox">Infobox</h3>
<p>Es lassen sich auch gestylte Infoboxen über ein hbox-Element mit der Klasse <code>dlg_infobox</code> (soll aus Konsistenzgründen <code>dlg-infobox</code> werden) erstellen und mit zusätzlichen Klassen zur Art der Information ausstatten. Aktuell wird nur die Klasse <code>error</code> unterstützt, um Fehler anzuzeigen.</p>
<p>Die Infobox wird dabei automatisch sichtbar bzw. unsichtbar, wenn Text hinzugefügt oder entfernt wird.</p>
<h2 id="funktionsreferenz">Funktionsreferenz</h2>
<pre><code class="lang-fnpreview"><span class="token keyword" >constructor</span><span class="token fnname" > WDialog</span><span class="token punctuation" >(</span><span class="token datatype" >string</span> title<span class="token punctuation" >,</span> <span class="token optional" >[opt]</span> <span class="token datatype" >string</span> langpre<span class="token punctuation" >,</span> <span class="token optional" >[opt]</span> <span class="token datatype" >object</span> options<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Erstellt ein Dialogobjekt. Fuer genauere Angaben zu den einzelnen Parametern siehe oben.</p>
<pre><code class="lang-fnpreview"><span class="token datatype" >void</span><span class="token fnname" > setContent</span><span class="token punctuation" >(</span><span class="token datatype" >string</span> content<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Setzt den Inhalt der in <code>.main-wdialog-content</code> angezeigt werden soll.</p>
<pre><code class="lang-fnpreview"><span class="token datatype" >void</span><span class="token fnname" > setFooter</span><span class="token punctuation" >(</span><span class="token datatype" >string</span> content<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Setzt den Inhalt der in <code>.main-wdialog-footer</code> angezeigt werden soll. Falls gesetzt, werden die Buttons nicht mehr erstellt.</p>
<pre><code class="lang-fnpreview"><span class="token datatype" >jQueryObject</span><span class="token fnname" > getFooterElm</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Gibt ein jQueryObject zum <code>.main-wdialog-footer</code>-Element zurück.</p>
<pre><code class="lang-fnpreview"><span class="token datatype" >void</span><span class="token fnname" > setBtnLeft</span><span class="token punctuation" >(</span><span class="token datatype" >Array</span> buttons<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Erstellt die im Array übergebenen Button-Definitionen links unten im Dialog.</p>
<pre><code class="lang-fnpreview"><span class="token datatype" >void</span><span class="token fnname" > setBtnRight</span><span class="token punctuation" >(</span><span class="token datatype" >Array</span> buttons<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Erstellt die im Array übergebenen Button-Definitionen rechts unten im Dialog.</p>
<pre><code class="lang-fnpreview"><span class="token datatype" >XULElement</span><span class="token fnname" > addButtons</span><span class="token punctuation" >(</span><span class="token datatype" >string</span><span class="token punctuation" >/</span><span class="token datatype" >object</span> btnobj<span class="token punctuation" >,</span> <span class="token optional" >[opt]</span> <span class="token datatype" >bool</span> left<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Erstellt den angegebenen Button im Dialog und gibt diesen zurück.</p>
<ul>
<li><strong>btnobj:</strong><br>Button-Definition des zu erstellenden Buttons. Kann alternativ auch ein String zu einem Preset sein.</li>
<li><strong>left:</strong><br>Erstellt den Button links unten im Dialog.</li>
</ul>
<pre><code class="lang-fnpreview"><span class="token datatype" >void</span><span class="token fnname" > lock</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Sperrt das Dialog.</p>
<pre><code class="lang-fnpreview"><span class="token datatype" >void</span><span class="token fnname" > unlock</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Entsperrt das Dialog.</p>
<pre><code class="lang-fnpreview"><span class="token datatype" >void</span><span class="token fnname" > show</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Erstellt das Dialog-Element im Mainwindow.</p>
<pre><code class="lang-fnpreview"><span class="token datatype" >void</span><span class="token fnname" > updatePseudoElements</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Aktualisiert die Dialog-GUI-Elemente in der Funktionsweise. Dies kann nötig sein, falls neue Dialog-GUI-Elemente während das Dialog-Element aktiv ist, hinzugefügt werden. GUI-Elemente wie die Listen und die Infobox aktualisieren allerdings ihren eigenen Inhalt automatisch.</p>
<pre><code class="lang-fnpreview"><span class="token datatype" >void</span><span class="token fnname" > updateTextNodes</span><span class="token punctuation" >(</span><span class="token datatype" >jQueryObject</span> <span class="token datatype" >object</span>s<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Passt die Breite der angegebenen Elemente an das Dialog an. Dies kann insbesondere im Zusammenhang mit den <code>description</code>-Elementen von Nöten sein, da sie teilweise aus dem Dialog herausragen und das Dialog dadurch falsch dargestellt wird.</p>
<pre><code class="lang-fnpreview"><span class="token datatype" >bool</span><span class="token fnname" > hide</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Schließt das Dialog-Element und gibt, falls erfolgreich, <code>true</code> zurück.</p>

			</div>
		</div>
	</body>
</html>