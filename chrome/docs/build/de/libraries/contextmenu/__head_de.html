<!DOCTYPE html>
<html>
	<head>
		<title>Windmill Documentation -  Kontextmenüs</title>
		<link href="../../../windmillDocs.css" rel="stylesheet">
		<link href="../../../prism.css" rel="stylesheet">
		<meta charset="UTF-8">
		<script>
			//Windmillinterner Workaround: Da Windmill das Oeffnen externer Links sperrt (sodass diese in einem externen Browser geoffnet werden koennen)
			//wird hier fuer Windmill das anders geloest.
			if(navigator.userAgent.search(/\bwindmill\b/) != -1) {
				document.addEventListener("DOMContentLoaded", function() {
					let elements = document.getElementsByTagName("a");
					for(var i = 0; i < elements.length; i++) {
						elements[i].onclick = function(e) {
							window.location.href = this.href;
							e.preventDefault();
						};
					}
				});
			}
			document.addEventListener("DOMContentLoaded", function() {
				let code_elements = document.querySelectorAll("code");
				for(let i = 0; i < code_elements.length; i++) {
					let elm = code_elements[i];
					if(elm.className.search("lang-fnpreview") != -1)
						elm.parentNode.className += "lang-fnpreview";
				}
			});
		</script>
	</head>
	<body>
		<div id="header">
			Windmill Documentation
		</div>
		<div id="wrapper">
			<nav id="navigation">
				<ul>
					<li class="navigation-elm"><a href="../../_home/__head_de.html">Startseite</a></li><ul class="navigation-sublist">
</ul>
<li class="navigation-elm"><a href="../../shortcuts/__head_de.html">Shortcuts (_sc)</a></li><ul class="navigation-sublist">
</ul>
<li class="navigation-elm"><a href="../__head_de.html">Libraries</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../tree/__head_de.html"> Tree</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../tree/treeExpand_de.html">treeExpand</a></li>
<li class="navigation-elm"><a href="../tree/treeCollapse_de.html">treeCollapse</a></li>
<li class="navigation-elm"><a href="../tree/toggleOpenState_de.html">toggleOpenState</a></li>
<li class="navigation-elm"><a href="../tree/sortTreeContainerElements_de.html">sortTreeContainerElements</a></li>
<li class="navigation-elm"><a href="../tree/setupTreeObj_de.html">setupTreeObj</a></li>
<li class="navigation-elm"><a href="../tree/setupMaintree_de.html">setupMaintree</a></li>
<li class="navigation-elm"><a href="../tree/selectTreeItem_de.html">selectTreeItem</a></li>
<li class="navigation-elm"><a href="../tree/selectTreeEntryCrs_de.html">selectTreeEntryCrs</a></li>
<li class="navigation-elm"><a href="../tree/searchTreeEntry_de.html">searchTreeEntry</a></li>
<li class="navigation-elm"><a href="../tree/renameTreeObj_de.html">renameTreeObj</a></li>
<li class="navigation-elm"><a href="../tree/removeTreeEntry_de.html">removeTreeEntry</a></li>
<li class="navigation-elm"><a href="../tree/pasteFile_de.html">pasteFile</a></li>
<li class="navigation-elm"><a href="../tree/handleTreeEntry_de.html">handleTreeEntry</a></li>
<li class="navigation-elm"><a href="../tree/getTreeObjPath_de.html">getTreeObjPath</a></li>
<li class="navigation-elm"><a href="../tree/getTreeObjId_de.html">getTreeObjId</a></li>
<li class="navigation-elm"><a href="../tree/getTreeObjFullPath_de.html">getTreeObjFullPath</a></li>
<li class="navigation-elm"><a href="../tree/getTreeObjById_de.html">getTreeObjById</a></li>
<li class="navigation-elm"><a href="../tree/getTreeItemFilename_de.html">getTreeItemFilename</a></li>
<li class="navigation-elm"><a href="../tree/getTreeEntryIndex_de.html">getTreeEntryIndex</a></li>
<li class="navigation-elm"><a href="../tree/getTreeEntryByIndex_de.html">getTreeEntryByIndex</a></li>
<li class="navigation-elm"><a href="../tree/getTreeCntById_de.html">getTreeCntById</a></li>
<li class="navigation-elm"><a href="../tree/getLastSelectedTreeItem_de.html">getLastSelectedTreeItem</a></li>
<li class="navigation-elm"><a href="../tree/getCurrentTreeSelection_de.html">getCurrentTreeSelection</a></li>
<li class="navigation-elm"><a href="../tree/createTreeElement_de.html">createTreeElement</a></li>
<li class="navigation-elm"><a href="../tree/copyTreeEntry_de.html">copyTreeEntry</a></li>
</ul>
<li class="navigation-elm"><a href="../explorer/__head_de.html"> Explorer</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../explorer/searchFile_de.html">searchFile</a></li>
<li class="navigation-elm"><a href="../explorer/PrepareDirectory_de.html">PrepareDirectory</a></li>
<li class="navigation-elm"><a href="../explorer/PrepareDirectory2_de.html">PrepareDirectory2</a></li>
<li class="navigation-elm"><a href="../explorer/navigateToPath_de.html">navigateToPath</a></li>
<li class="navigation-elm"><a href="../explorer/loadDirectory_de.html">loadDirectory</a></li>
<li class="navigation-elm"><a href="../explorer/getFileExtensionPriority_de.html">getFileExtensionPriority</a></li>
<li class="navigation-elm"><a href="../explorer/fileSorting_de.html">fileSorting</a></li>
<li class="navigation-elm"><a href="../explorer/FilenameBlacklist_de.html">FilenameBlacklist</a></li>
<li class="navigation-elm"><a href="../explorer/createEmptyTemplate_de.html">createEmptyTemplate</a></li>
<li class="navigation-elm"><a href="../explorer/addFileTreeEntry_de.html">addFileTreeEntry</a></li>
</ul>
<li class="navigation-elm"><a href="../deck/__head_de.html"> Decks</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../deck/togglePage_de.html">togglePage</a></li>
<li class="navigation-elm"><a href="../deck/getChildPosition_de.html">getChildPosition</a></li>
<li class="navigation-elm"><a href="../deck/closePage_de.html">closePage</a></li>
<li class="navigation-elm"><a href="../deck/class_Deck_de.html">class Deck</a></li>
<li class="navigation-elm"><a href="../deck/addDeck_de.html">addDeck</a></li>
</ul>
<li class="navigation-elm"><a href="__head_de.html"> Kontextmenüs</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="class__ContextMenu_de.html">class _ContextMenu</a></li>
<li class="navigation-elm"><a href="class__ContextMenuEntry_de.html">class _ContextMenuEntry</a></li>
</ul>
<li class="navigation-elm"><a href="../colorpicker/__head_de.html"> Color Picker</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../colorpicker/createColorPicker_de.html"> createColorPicker</a></li>
<li class="navigation-elm"><a href="../colorpicker/class_ColorPicker_de.html"> class ColorPicker</a></li>
</ul>
<li class="navigation-elm"><a href="../c4group/__head_de.html">C4Group</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../c4group/readC4GroupFile_de.html"> readC4GroupFile</a></li>
<li class="navigation-elm"><a href="../c4group/readC4GroupBytes_de.html"> readC4GroupBytes</a></li>
<li class="navigation-elm"><a href="../c4group/getGroupHeader_de.html"> getGroupHeader</a></li>
<li class="navigation-elm"><a href="../c4group/getGroupContent_de.html"> getGroupContent</a></li>
<li class="navigation-elm"><a href="../c4group/C4GroupHead_de.html"> C4GroupHead</a></li>
<li class="navigation-elm"><a href="../c4group/C4GroupFile_de.html"> C4GroupFile</a></li>
<li class="navigation-elm"><a href="../c4group/C4GroupEntryCore_de.html"> C4GroupEntryCore</a></li>
</ul>
</ul>
<li class="navigation-elm"><a href="../../functionalities/__head_de.html">Funktionalitäten</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../functionalities/workenvironments/__head_de.html">Arbeitsumgebungen</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../functionalities/workenvironments/saveWorkEnvironment_de.html">saveWorkEnvironment</a></li>
<li class="navigation-elm"><a href="../../functionalities/workenvironments/loadWorkEnvironment_de.html">loadWorkEnvironment</a></li>
<li class="navigation-elm"><a href="../../functionalities/workenvironments/getWorkEnvironments_de.html">getWorkEnvironments</a></li>
<li class="navigation-elm"><a href="../../functionalities/workenvironments/getWorkEnvironmentByPath_de.html">getWorkEnvironmentByPath</a></li>
<li class="navigation-elm"><a href="../../functionalities/workenvironments/createWorkEnvironment_de.html">createWorkEnvironment</a></li>
<li class="navigation-elm"><a href="../../functionalities/workenvironments/createNewWorkEnvironment_de.html">createNewWorkEnvironment</a></li>
<li class="navigation-elm"><a href="../../functionalities/workenvironments/class_WorkEnvironment_de.html">class WorkEnvironment</a></li>
</ul>
<li class="navigation-elm"><a href="../../functionalities/other/__head_de.html">Weitere Funktionen</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../functionalities/other/showNotification_de.html">showNotification</a></li>
</ul>
<li class="navigation-elm"><a href="../../functionalities/modules/__head_de.html">Module</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../functionalities/modules/readModuleInfo_de.html">readModuleInfo</a></li>
<li class="navigation-elm"><a href="../../functionalities/modules/loadModules_de.html">loadModules</a></li>
<li class="navigation-elm"><a href="../../functionalities/modules/getModule_de.html">getModule</a></li>
<li class="navigation-elm"><a href="../../functionalities/modules/getModulesIdByName_de.html">getModulesIdByName</a></li>
<li class="navigation-elm"><a href="../../functionalities/modules/getModulesByName_de.html">getModulesByName</a></li>
<li class="navigation-elm"><a href="../../functionalities/modules/getModuleDef_de.html">getModuleDef</a></li>
<li class="navigation-elm"><a href="../../functionalities/modules/getModuleDefByPrefix_de.html">getModuleDefByPrefix</a></li>
<li class="navigation-elm"><a href="../../functionalities/modules/getModuleByName_de.html">getModuleByName</a></li>
<li class="navigation-elm"><a href="../../functionalities/modules/createModule_de.html">createModule</a></li>
<li class="navigation-elm"><a href="../../functionalities/modules/class__module_de.html">class _module</a></li>
</ul>
<li class="navigation-elm"><a href="../../functionalities/localization/__head_de.html">Lokalisierung</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../functionalities/localization/readLanguageInfo_de.html">readLanguageInfo</a></li>
<li class="navigation-elm"><a href="../../functionalities/localization/localizeModule_de.html">localizeModule</a></li>
<li class="navigation-elm"><a href="../../functionalities/localization/Locale_de.html">Locale</a></li>
<li class="navigation-elm"><a href="../../functionalities/localization/initializeLanguage_de.html">initializeLanguage</a></li>
</ul>
<li class="navigation-elm"><a href="../../functionalities/keybindings/__head_de.html">Key Bindings</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../functionalities/keybindings/_keybinderGetKeysByIdentifier_de.html">_keybinderGetKeysByIdentifier</a></li>
<li class="navigation-elm"><a href="../../functionalities/keybindings/_keybinderCheckKeyBind_de.html">_keybinderCheckKeyBind</a></li>
<li class="navigation-elm"><a href="../../functionalities/keybindings/saveKeyBindings_de.html">saveKeyBindings</a></li>
<li class="navigation-elm"><a href="../../functionalities/keybindings/loadKeyBindings_de.html">loadKeyBindings</a></li>
<li class="navigation-elm"><a href="../../functionalities/keybindings/getKeyCodeIdentifier_de.html">getKeyCodeIdentifier</a></li>
<li class="navigation-elm"><a href="../../functionalities/keybindings/getKeyBindingObjById_de.html">getKeyBindingObjById</a></li>
<li class="navigation-elm"><a href="../../functionalities/keybindings/class__KeyBinding_de.html">class _KeyBinding</a></li>
<li class="navigation-elm"><a href="../../functionalities/keybindings/bindKeyToObj_de.html">bindKeyToObj</a></li>
</ul>
<li class="navigation-elm"><a href="../../functionalities/dialogs/__head_de.html">Dialoge</a></li><ul class="navigation-sublist">
</ul>
<li class="navigation-elm"><a href="../../functionalities/config/__head_de.html">config.js</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../functionalities/config/setConfigData_de.html">setConfigData</a></li>
<li class="navigation-elm"><a href="../../functionalities/config/setClonkPath_de.html">setClonkPath</a></li>
<li class="navigation-elm"><a href="../../functionalities/config/sc.clonkpath_de.html">_sc.clonkpath</a></li>
<li class="navigation-elm"><a href="../../functionalities/config/saveConfig_de.html">saveConfig</a></li>
<li class="navigation-elm"><a href="../../functionalities/config/loadConfig_de.html">loadConfig</a></li>
<li class="navigation-elm"><a href="../../functionalities/config/getConfig_de.html">getConfig</a></li>
<li class="navigation-elm"><a href="../../functionalities/config/getConfigData_de.html">getConfigData</a></li>
<li class="navigation-elm"><a href="../../functionalities/config/class_ConfigEntry_de.html">class ConfigEntry</a></li>
<li class="navigation-elm"><a href="../../functionalities/config/addConfigString_de.html">addConfigString</a></li>
</ul>
</ul>
<li class="navigation-elm"><a href="../../externalapplications/__head_de.html">Externe Anwendungen</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../externalapplications/class_ExtApplication_de.html">class ExtApplication</a></li>
</ul>
<li class="navigation-elm"><a href="../../ctypes/__head_de.html">CTypes / Windmill Interface</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../ctypes/wmProcess_de.html">wmProcess</a></li>
<li class="navigation-elm"><a href="../../ctypes/WindmillInterface_de.html">Windmill Interface</a></li>
</ul>
<li class="navigation-elm"><a href="../../CIDE/__head_de.html">CIDE</a></li><ul class="navigation-sublist">
<li class="navigation-elm"><a href="../../CIDE/saveTab_de.html">saveTab</a></li>
<li class="navigation-elm"><a href="../../CIDE/saveFileByPath_de.html">saveFileByPath</a></li>
<li class="navigation-elm"><a href="../../CIDE/OpenTabInProgram_de.html">OpenTabInProgram</a></li>
<li class="navigation-elm"><a href="../../CIDE/onFileUnchanged_de.html">onFileUnchanged</a></li>
<li class="navigation-elm"><a href="../../CIDE/onFileChanged_de.html">onFileChanged</a></li>
<li class="navigation-elm"><a href="../../CIDE/hasOpenedSessions_de.html">hasOpenedSessions</a></li>
<li class="navigation-elm"><a href="../../CIDE/getUnsavedFiles_de.html">getUnsavedFiles</a></li>
<li class="navigation-elm"><a href="../../CIDE/getExtProgId_de.html">getExtProgId</a></li>
<li class="navigation-elm"><a href="../../CIDE/fileLoaded_de.html">fileLoaded</a></li>
<li class="navigation-elm"><a href="../../CIDE/checkSavingPermissions_de.html">checkSavingPermissions</a></li>
</ul>

				</ul>
			</nav>
			<div id="content">
				<h1 id="kontextmen-s">Kontextmenüs</h1>
<p>Da die Mozilla-eigenen <code>menu</code>-Elemente zum Erstellen von Kontextmenüs sich nur auf XUL beschränken und um Konsistenz zwischen den Modulen zu wahren, verfügt Windmill über ein eigenes System zum Erstellen von Kontextmenüs.</p>
<p>Kontextmenüs können hierbei im Skript definiert und an Objekte gebunden werden und lassen sich dann per Rechtsklick öffnen.</p>
<pre><code class="lang-javascript"><span class="token keyword" >var</span> ctx_references <span class="token operator" >=</span> <span class="token keyword" >new</span> <span class="token class-name" >ContextMenu</span><span class="token punctuation" >(</span><span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> MODULE_LPRE<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
ctx_references<span class="token punctuation" >.</span><span class="token function" >addEntry</span><span class="token punctuation" >(</span><span class="token string" >"$Notifications$"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token punctuation" >(</span><span class="token keyword" >new</span> <span class="token class-name" >ContextMenu</span><span class="token punctuation" >(</span><span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token punctuation" >[</span>
    <span class="token punctuation" >[</span><span class="token string" >"$AddHostNotification$"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>target<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >var</span> ref <span class="token operator" >=</span> <span class="token function" >getReferenceById</span><span class="token punctuation" >(</span><span class="token function" >parseInt</span><span class="token punctuation" >(</span><span class="token function" >$</span><span class="token punctuation" >(</span>target<span class="token punctuation" >)</span><span class="token punctuation" >.</span><span class="token function" >attr</span><span class="token punctuation" >(</span><span class="token string" >"id"</span><span class="token punctuation" >)</span><span class="token punctuation" >.</span><span class="token function" >substr</span><span class="token punctuation" >(</span><span class="token number" >4</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
        <span class="token keyword" >if</span><span class="token punctuation" >(</span><span class="token operator" >!</span>ref<span class="token punctuation" >.</span>Client<span class="token punctuation" >)</span>
            <span class="token keyword" >return</span><span class="token punctuation" >;</span>

        <span class="token function" >AddNotificationCondition</span><span class="token punctuation" >(</span>NTYPE_HOSTNAME<span class="token punctuation" >,</span> ref<span class="token punctuation" >.</span>Client<span class="token punctuation" >[</span><span class="token number" >0</span><span class="token punctuation" >]</span><span class="token punctuation" >.</span>Name<span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> ref<span class="token punctuation" >.</span>GameId<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >[</span><span class="token string" >"$AddScenarioNotification$"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>target<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >var</span> ref <span class="token operator" >=</span> <span class="token function" >getReferenceById</span><span class="token punctuation" >(</span><span class="token function" >parseInt</span><span class="token punctuation" >(</span><span class="token function" >$</span><span class="token punctuation" >(</span>target<span class="token punctuation" >)</span><span class="token punctuation" >.</span><span class="token function" >attr</span><span class="token punctuation" >(</span><span class="token string" >"id"</span><span class="token punctuation" >)</span><span class="token punctuation" >.</span><span class="token function" >substr</span><span class="token punctuation" >(</span><span class="token number" >4</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
        <span class="token keyword" >if</span><span class="token punctuation" >(</span><span class="token operator" >!</span>ref<span class="token punctuation" >.</span>Resource<span class="token punctuation" >)</span>
            <span class="token keyword" >return</span><span class="token punctuation" >;</span>

        <span class="token function" >AddNotificationCondition</span><span class="token punctuation" >(</span>NTYPE_RESOURCE<span class="token punctuation" >,</span> ref<span class="token punctuation" >.</span>Resource<span class="token punctuation" >[</span><span class="token number" >0</span><span class="token punctuation" >]</span><span class="token punctuation" >.</span>Filename<span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> ref<span class="token punctuation" >.</span>GameId<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
    <span class="token string" >"seperator"</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >[</span><span class="token string" >"$IgnoreHostNotification$"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>target<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >var</span> ref <span class="token operator" >=</span> <span class="token function" >getReferenceById</span><span class="token punctuation" >(</span><span class="token function" >parseInt</span><span class="token punctuation" >(</span><span class="token function" >$</span><span class="token punctuation" >(</span>target<span class="token punctuation" >)</span><span class="token punctuation" >.</span><span class="token function" >attr</span><span class="token punctuation" >(</span><span class="token string" >"id"</span><span class="token punctuation" >)</span><span class="token punctuation" >.</span><span class="token function" >substr</span><span class="token punctuation" >(</span><span class="token number" >4</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
        <span class="token keyword" >if</span><span class="token punctuation" >(</span><span class="token operator" >!</span>ref<span class="token punctuation" >.</span>Client<span class="token punctuation" >)</span>
            <span class="token keyword" >return</span><span class="token punctuation" >;</span>

        <span class="token function" >AddNotificationCondition</span><span class="token punctuation" >(</span>NTYPE_HOSTNAME<span class="token punctuation" >,</span> ref<span class="token punctuation" >.</span>Client<span class="token punctuation" >[</span><span class="token number" >0</span><span class="token punctuation" >]</span><span class="token punctuation" >.</span>Name<span class="token punctuation" >,</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span> ref<span class="token punctuation" >.</span>GameId<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span>
    <span class="token punctuation" >[</span><span class="token string" >"$IgnoreScenarioNotification$"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span>target<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >var</span> ref <span class="token operator" >=</span> <span class="token function" >getReferenceById</span><span class="token punctuation" >(</span><span class="token function" >parseInt</span><span class="token punctuation" >(</span><span class="token function" >$</span><span class="token punctuation" >(</span>target<span class="token punctuation" >)</span><span class="token punctuation" >.</span><span class="token function" >attr</span><span class="token punctuation" >(</span><span class="token string" >"id"</span><span class="token punctuation" >)</span><span class="token punctuation" >.</span><span class="token function" >substr</span><span class="token punctuation" >(</span><span class="token number" >4</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
        <span class="token keyword" >if</span><span class="token punctuation" >(</span><span class="token operator" >!</span>ref<span class="token punctuation" >.</span>Resource<span class="token punctuation" >)</span>
            <span class="token keyword" >return</span><span class="token punctuation" >;</span>

        <span class="token function" >AddNotificationCondition</span><span class="token punctuation" >(</span>NTYPE_RESOURCE<span class="token punctuation" >,</span> ref<span class="token punctuation" >.</span>Resource<span class="token punctuation" >[</span><span class="token number" >0</span><span class="token punctuation" >]</span><span class="token punctuation" >.</span>Filename<span class="token punctuation" >,</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span> ref<span class="token punctuation" >.</span>GameId<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >]</span>
<span class="token punctuation" >]</span><span class="token punctuation" >,</span> MODULE_LPRE<span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Eine gekürzte Fassung des Kontextmenüs der Masterserveranzeige um Benachrichtigungen für bestimmte Spiele anzuzeigen. Hierbei wird ein Kontextmenüeintrag &quot;Notifications&quot; mit einem untergeordneten Kontextmenü erstellt.</p>
<h2 id="sichtbarkeitssteuerung">Sichtbarkeitssteuerung</h2>
<p>Um die Sichtbarkeit bestimmter Kontextmenüeinträge zu steuern, kann dem Kontextmenü unter der weiteren Optionen ein &quot;fnCheckVisiblity&quot;-Callback hinzugefügt werden. Hierbei können den einzelne Kontextmenüeinträgen über den weiteren Optionen ein identifier hinzugefügt werden, der an diesen Sichtbarkeitscallback weitergegeben wird, womit sich die einzelnen Kontextmenüeinträge unterscheiden lassen.</p>
<p>Der Rückgabewert des Sichtbarkeitscallbacks ist hierbei ausschlaggebend dafür, wie der Kontextmenüeintrag angezeigt wird:</p>
<ul>
<li>0: Der Kontextmenüeintrag wird normal angezeigt.</li>
<li>1: Der Kontextmenüeintrag wird <em>deaktiviert</em>. Dabei wird der Text leicht ausgegraut und der Eintrag reagiert nicht auf Klicks.</li>
<li>2: Der Kontextmenüeintrag ist unsichtbar und wird nicht im Kontextmenü angezeigt.</li>
</ul>
<p>Ein gutes Beispiel hierfür ist das Kontextmenü des Explorers im Entwicklermodus. Da das Kontextmenü sehr komplex ist, wurden im folgenden Bespiel die Funktionalitäten (und das Exportieruntermenü) ausgeschnitten.</p>
<pre><code class="lang-javascript"><span class="token keyword" >var</span> treeContextMenu <span class="token operator" >=</span> <span class="token keyword" >new</span> <span class="token class-name" >ContextMenu</span><span class="token punctuation" >(</span><span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> MODULE_LPRE<span class="token punctuation" >,</span> <span class="token punctuation" >{</span> fnCheckVisibility<span class="token punctuation" >:</span> treeHideContextItems <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token keyword" >var</span> submenu_new <span class="token operator" >=</span> <span class="token keyword" >new</span> <span class="token class-name" >ContextMenu</span><span class="token punctuation" >(</span><span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token punctuation" >[</span> <span class="token comment" spellcheck="true">/* ... */</span> <span class="token punctuation" >]</span><span class="token punctuation" >,</span> MODULE_LPRE<span class="token punctuation" >,</span> <span class="token punctuation" >{</span> allowIcons<span class="token punctuation" >:</span> <span class="token boolean" >true</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

treeContextMenu<span class="token punctuation" >.</span><span class="token function" >addEntry</span><span class="token punctuation" >(</span><span class="token string" >"$ctxnew$"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> submenu_new<span class="token punctuation" >,</span> <span class="token punctuation" >{</span>identifier<span class="token punctuation" >:</span> <span class="token string" >"ctxNew"</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token comment" spellcheck="true">//Duplizieren</span>
treeContextMenu<span class="token punctuation" >.</span><span class="token function" >addEntry</span><span class="token punctuation" >(</span><span class="token string" >"$ctxduplicate$"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token operator" >*</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span> <span class="token comment" spellcheck="true">/* ... */</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> identifier<span class="token punctuation" >:</span> <span class="token string" >'ctxDuplicate'</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token comment" spellcheck="true">//Kopieren</span>
treeContextMenu<span class="token punctuation" >.</span><span class="token function" >addEntry</span><span class="token punctuation" >(</span><span class="token string" >"$ctxcopy$"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span> <span class="token function" >copyTreeEntry</span><span class="token punctuation" >(</span><span class="token function" >getCurrentTreeSelection</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> identifier<span class="token punctuation" >:</span> <span class="token string" >'ctxCopy'</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token comment" spellcheck="true">//Einfügen</span>
treeContextMenu<span class="token punctuation" >.</span><span class="token function" >addEntry</span><span class="token punctuation" >(</span><span class="token string" >"$ctxpaste$"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span> <span class="token function" >pasteFile</span><span class="token punctuation" >(</span><span class="token function" >getCurrentTreeSelection</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> identifier<span class="token punctuation" >:</span> <span class="token string" >'ctxPaste'</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token comment" spellcheck="true">//Ausschneiden</span>
treeContextMenu<span class="token punctuation" >.</span><span class="token function" >addEntry</span><span class="token punctuation" >(</span><span class="token string" >"$ctxcut$"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span><span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> identifier<span class="token punctuation" >:</span> <span class="token string" >'ctxCut'</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token comment" spellcheck="true">//Umbenennen</span>
treeContextMenu<span class="token punctuation" >.</span><span class="token function" >addEntry</span><span class="token punctuation" >(</span><span class="token string" >"$ctxrename$"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span> <span class="token function" >renameTreeObj</span><span class="token punctuation" >(</span><span class="token function" >$</span><span class="token punctuation" >(</span><span class="token function" >getCurrentTreeSelection</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> identifier<span class="token punctuation" >:</span> <span class="token string" >'ctxRename'</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token comment" spellcheck="true">//Löschen</span>
treeContextMenu<span class="token punctuation" >.</span><span class="token function" >addEntry</span><span class="token punctuation" >(</span><span class="token string" >"$ctxdelete$"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span> <span class="token function" >removeTreeEntry</span><span class="token punctuation" >(</span><span class="token function" >$</span><span class="token punctuation" >(</span><span class="token function" >getCurrentTreeSelection</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> identifier<span class="token punctuation" >:</span> <span class="token string" >'ctxDelete'</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token comment" spellcheck="true">//Aktualisieren</span>
treeContextMenu<span class="token punctuation" >.</span><span class="token function" >addEntry</span><span class="token punctuation" >(</span><span class="token string" >"$ctxreload$"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span><span class="token comment" spellcheck="true">/* ... */</span><span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> identifier<span class="token punctuation" >:</span> <span class="token string" >'ctxReload'</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

treeContextMenu<span class="token punctuation" >.</span><span class="token function" >addSeperator</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token comment" spellcheck="true">//Packen</span>
treeContextMenu<span class="token punctuation" >.</span><span class="token function" >addEntry</span><span class="token punctuation" >(</span><span class="token string" >"$ctxpack$"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span> <span class="token comment" spellcheck="true">/* ... */</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> identifier<span class="token punctuation" >:</span> <span class="token string" >'ctxPack'</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token comment" spellcheck="true">//Zerlegen</span>
treeContextMenu<span class="token punctuation" >.</span><span class="token function" >addEntry</span><span class="token punctuation" >(</span><span class="token string" >"$ctxexplode$"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span> <span class="token comment" spellcheck="true">/* ... */</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> identifier<span class="token punctuation" >:</span> <span class="token string" >'ctxExplode'</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

treeContextMenu<span class="token punctuation" >.</span><span class="token function" >addSeperator</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token comment" spellcheck="true">//Git</span>
treeContextMenu<span class="token punctuation" >.</span><span class="token function" >addEntry</span><span class="token punctuation" >(</span><span class="token string" >"$ctxgit$"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token function" >gitContextMenu</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> identifier<span class="token punctuation" >:</span> <span class="token string" >"ctxGit"</span><span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token comment" spellcheck="true">//Öffnen</span>
treeContextMenu<span class="token punctuation" >.</span><span class="token function" >addEntry</span><span class="token punctuation" >(</span><span class="token string" >"$ctxopen$"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span> <span class="token function" >handleTreeEntry</span><span class="token punctuation" >(</span><span class="token function" >$</span><span class="token punctuation" >(</span><span class="token function" >getCurrentTreeSelection</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> identifier<span class="token punctuation" >:</span> <span class="token string" >'ctxOpen'</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token comment" spellcheck="true">//Im Vollbild öffnen</span>
treeContextMenu<span class="token punctuation" >.</span><span class="token function" >addEntry</span><span class="token punctuation" >(</span><span class="token string" >"$ctxopenfull$"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span> <span class="token comment" spellcheck="true">/* ... */</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> identifier<span class="token punctuation" >:</span> <span class="token string" >'ctxOpenFull'</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token comment" spellcheck="true">//Mit Kommandozeilenparameter öffnen</span>
treeContextMenu<span class="token punctuation" >.</span><span class="token function" >addEntry</span><span class="token punctuation" >(</span><span class="token string" >"$ctxopenpars$"</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token keyword" >function</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span> <span class="token comment" spellcheck="true">/* ... */</span> <span class="token punctuation" >}</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> identifier<span class="token punctuation" >:</span> <span class="token string" >'ctxOpenPars'</span> <span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>
<p>Hierzu der zugehörige Sichtbarkeitscallback:</p>
<pre><code class="lang-javascript"><span class="token keyword" >function</span> <span class="token function" >treeHideContextItems</span><span class="token punctuation" >(</span>by_obj<span class="token punctuation" >,</span> identifier<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >var</span> pElm <span class="token operator" >=</span> <span class="token function" >$</span><span class="token punctuation" >(</span>by_obj<span class="token punctuation" >)</span><span class="token punctuation" >,</span> tagName <span class="token operator" >=</span> <span class="token function" >$</span><span class="token punctuation" >(</span>by_obj<span class="token punctuation" >)</span><span class="token punctuation" >.</span><span class="token function" >prop</span><span class="token punctuation" >(</span><span class="token string" >"tagName"</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

    <span class="token keyword" >var</span> fext<span class="token punctuation" >,</span> directory<span class="token punctuation" >;</span>
    <span class="token keyword" >if</span><span class="token punctuation" >(</span>tagName <span class="token operator" >==</span> <span class="token string" >"li"</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >var</span> filename <span class="token operator" >=</span> <span class="token function" >$</span><span class="token punctuation" >(</span>pElm<span class="token punctuation" >)</span><span class="token punctuation" >.</span><span class="token function" >attr</span><span class="token punctuation" >(</span><span class="token string" >"filename"</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
        <span class="token keyword" >var</span> t <span class="token operator" >=</span> filename<span class="token punctuation" >.</span><span class="token function" >split</span><span class="token punctuation" >(</span><span class="token string" >"."</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span> fext <span class="token operator" >=</span> t<span class="token punctuation" >[</span>t<span class="token punctuation" >.</span>length<span class="token number" >-1</span><span class="token punctuation" >]</span><span class="token punctuation" >;</span>

        <span class="token keyword" >if</span><span class="token punctuation" >(</span>t<span class="token punctuation" >.</span>length <span class="token operator" >==</span> <span class="token number" >1</span><span class="token punctuation" >)</span>
            directory <span class="token operator" >=</span> <span class="token boolean" >true</span><span class="token punctuation" >;</span>
    <span class="token punctuation" >}</span>

    <span class="token comment" spellcheck="true">//Copy, Cut, Rename, Delete, Pack, Explode und Open werden deaktiviert, wenn ein Containerobjekt ausgewählt wird.</span>
    <span class="token keyword" >if</span><span class="token punctuation" >(</span><span class="token punctuation" >(</span>tagName <span class="token operator" >==</span> <span class="token string" >"vbox"</span> <span class="token operator" >||</span> tagName <span class="token operator" >==</span> <span class="token string" >"html:ul"</span><span class="token punctuation" >)</span> <span class="token operator" >&amp;&amp;</span> <span class="token punctuation" >[</span><span class="token string" >"ctxCopy"</span><span class="token punctuation" >,</span><span class="token string" >"ctxCut"</span><span class="token punctuation" >,</span><span class="token string" >"ctxRename"</span><span class="token punctuation" >,</span><span class="token string" >"ctxDelete"</span><span class="token punctuation" >,</span><span class="token string" >"ctxPack"</span><span class="token punctuation" >,</span><span class="token string" >"ctxExplode"</span><span class="token punctuation" >,</span><span class="token string" >"ctxOpen"</span><span class="token punctuation" >]</span><span class="token punctuation" >.</span><span class="token function" >indexOf</span><span class="token punctuation" >(</span>identifier<span class="token punctuation" >)</span> <span class="token operator" >>=</span> <span class="token number" >0</span><span class="token punctuation" >)</span>
        <span class="token keyword" >return</span> <span class="token number" >1</span><span class="token punctuation" >;</span>

    <span class="token keyword" >let</span> workenv <span class="token operator" >=</span> <span class="token function" >getWorkEnvironmentByPath</span><span class="token punctuation" >(</span>_sc<span class="token punctuation" >.</span><span class="token function" >workpath</span><span class="token punctuation" >(</span>by_obj<span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    <span class="token keyword" >switch</span><span class="token punctuation" >(</span>identifier<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
        <span class="token comment" spellcheck="true">//Einfügen nur sichtbar bei gültigem Clipboard-Inhalt</span>
        <span class="token keyword" >case</span> <span class="token string" >"ctxPaste"</span><span class="token punctuation" >:</span>
            <span class="token keyword" >if</span><span class="token punctuation" >(</span><span class="token punctuation" >(</span><span class="token punctuation" >[</span><span class="token string" >"ocd"</span><span class="token punctuation" >,</span> <span class="token string" >"ocg"</span><span class="token punctuation" >,</span> <span class="token string" >"ocf"</span><span class="token punctuation" >]</span><span class="token punctuation" >.</span><span class="token function" >indexOf</span><span class="token punctuation" >(</span>fext<span class="token punctuation" >)</span> <span class="token operator" >||</span> directory<span class="token punctuation" >)</span>
                <span class="token operator" >&amp;&amp;</span> Services<span class="token punctuation" >.</span>clipboard<span class="token punctuation" >.</span><span class="token function" >hasDataMatchingFlavors</span><span class="token punctuation" >(</span><span class="token punctuation" >[</span><span class="token string" >"application/x-moz-file"</span><span class="token punctuation" >]</span><span class="token punctuation" >,</span> <span class="token number" >1</span><span class="token punctuation" >,</span> Services<span class="token punctuation" >.</span>clipboard<span class="token punctuation" >.</span>kGlobalClipboard<span class="token punctuation" >)</span><span class="token punctuation" >)</span>
                <span class="token keyword" >return</span> <span class="token number" >0</span><span class="token punctuation" >;</span>
            <span class="token keyword" >return</span> <span class="token number" >2</span><span class="token punctuation" >;</span>

        <span class="token comment" spellcheck="true">//Im Vollbild öffnen bzw. mit Parametern öffnen nur bei Szenarien anzeigen (ansonsten unsichtbar)</span>
        <span class="token keyword" >case</span> <span class="token string" >"ctxOpenPars"</span><span class="token punctuation" >:</span>
        <span class="token keyword" >case</span> <span class="token string" >"ctxOpenFull"</span><span class="token punctuation" >:</span>
            <span class="token keyword" >if</span><span class="token punctuation" >(</span>fext <span class="token operator" >==</span> <span class="token string" >"ocs"</span><span class="token punctuation" >)</span>
                <span class="token keyword" >return</span> <span class="token number" >0</span><span class="token punctuation" >;</span>
            <span class="token keyword" >else</span>
                <span class="token keyword" >return</span> <span class="token number" >2</span><span class="token punctuation" >;</span>

        <span class="token comment" spellcheck="true">//"Öffnen" wird für .ocd, .ocg und .ocf-Dateien deaktiviert</span>
        <span class="token keyword" >case</span> <span class="token string" >"ctxOpen"</span><span class="token punctuation" >:</span>
            <span class="token keyword" >if</span><span class="token punctuation" >(</span><span class="token punctuation" >[</span><span class="token string" >"ocd"</span><span class="token punctuation" >,</span><span class="token string" >"ocg"</span><span class="token punctuation" >,</span><span class="token string" >"ocf"</span><span class="token punctuation" >]</span><span class="token punctuation" >.</span><span class="token function" >indexOf</span><span class="token punctuation" >(</span>fext<span class="token punctuation" >)</span> <span class="token operator" >>=</span> <span class="token number" >0</span><span class="token punctuation" >)</span>
                <span class="token keyword" >return</span> <span class="token number" >1</span><span class="token punctuation" >;</span>
            <span class="token keyword" >break</span><span class="token punctuation" >;</span>

        <span class="token keyword" >case</span> <span class="token string" >"ctxPack"</span><span class="token punctuation" >:</span>
        <span class="token keyword" >case</span> <span class="token string" >"ctxReload"</span><span class="token punctuation" >:</span>
        <span class="token keyword" >case</span> <span class="token string" >"ctxExplode"</span><span class="token punctuation" >:</span>
            <span class="token comment" spellcheck="true">//Nur für Groupdateien. (Und Reload noch für Ordner)</span>
            <span class="token keyword" >if</span><span class="token punctuation" >(</span>OCGRP_FILEEXTENSIONS<span class="token punctuation" >.</span><span class="token function" >indexOf</span><span class="token punctuation" >(</span>fext<span class="token punctuation" >)</span> <span class="token operator" >&lt;</span> <span class="token number" >0</span> <span class="token operator" >&amp;&amp;</span> <span class="token operator" >!</span>directory<span class="token punctuation" >)</span>
                <span class="token keyword" >return</span> <span class="token number" >1</span><span class="token punctuation" >;</span>

            <span class="token comment" spellcheck="true">//Packen/Zerlegen nicht für Ordner</span>
            <span class="token keyword" >if</span><span class="token punctuation" >(</span>identifier <span class="token operator" >!=</span> <span class="token string" >"ctxReload"</span> <span class="token operator" >&amp;&amp;</span> directory<span class="token punctuation" >)</span>
                <span class="token keyword" >return</span> <span class="token number" >1</span><span class="token punctuation" >;</span>

            <span class="token keyword" >break</span><span class="token punctuation" >;</span>

        <span class="token comment" spellcheck="true">//Git-Kontextmenü</span>
        <span class="token keyword" >case</span> <span class="token string" >"ctxGit"</span><span class="token punctuation" >:</span>
            <span class="token comment" spellcheck="true">//Nur anzeigen, wenn es sich bei der jeweiligen Arbeitsumgebung um ein Git-Repository handelt</span>
            <span class="token keyword" >if</span><span class="token punctuation" >(</span><span class="token operator" >!</span>workenv<span class="token punctuation" >.</span>repository<span class="token punctuation" >)</span>
                <span class="token keyword" >return</span> <span class="token number" >2</span><span class="token punctuation" >;</span>

            <span class="token comment" spellcheck="true">//Falls git nicht verfügbar ist, deaktivieren</span>
            <span class="token keyword" >if</span><span class="token punctuation" >(</span><span class="token operator" >!</span><span class="token function" >getAppByID</span><span class="token punctuation" >(</span><span class="token string" >"git"</span><span class="token punctuation" >)</span><span class="token punctuation" >.</span><span class="token function" >isAvailable</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span>
                <span class="token keyword" >return</span> <span class="token number" >1</span><span class="token punctuation" >;</span>
    <span class="token punctuation" >}</span>

    <span class="token comment" spellcheck="true">//Ansonsten alles normal anzeigen</span>
    <span class="token keyword" >return</span> <span class="token number" >0</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>
</code></pre>

			</div>
		</div>
	</body>
</html>